<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>JSON Editor datetime Example</title>
    <script src="https://cdn.jsdelivr.net/npm/@json-editor/json-editor/dist/jsoneditor.min.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.5.1/flatpickr.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.5.1/flatpickr.min.css">
  </head>
  <body>
    <h1>JSON Editor datetime Example</h1>
    
    <p style='margin-bottom:20px;'>This example demonstrates JSONEditor's datetime format and integration with Flatpickr</p>
    
    <div id='editor_holder'></div>
    <button id='submit'>Submit (console.log)</button>
    
    <script>

      // Initialize the editor with a JSON schema
      var editor = new JSONEditor(document.getElementById('editor_holder'),{
        schema: {
          type: "object",
          title: "Text",
          required: ["sdate","stime","sdatetime","fsdate","fstime","fsdatetime"],
          properties: {
            "sdate": {
              "type": "string",
              "format": "date",
              "title": "Date (String)",
              "description": "String date field",
              "required": true,
              "options": {
                "required": true,
                "grid_columns": 4,
                "placeholder": "Enter date"
              }
            },
            "stime": {
              "type": "string",
              "format": "time",
              "title": "Time (String)",
              "description": "String time field",
              "options": {
                "grid_columns": 4,
                "placeholder": "Enter time",
                "required": true
              }
            },
            "sdatetime": {
              "type": "string",
              "format": "datetime-local",
              "title": "Datetime (String)",
              "description": "String datetime-local field",
              "options": {
                "grid_columns": 4,
                "placeholder": "Enter datetime",
                "required": true
              }
            },

            "fsdate": {
              "type": "string",
              "format": "date",
              "title": "Date (String)",
              "description": "String date field with flatpickr",
              "options": {
                "grid_columns": 4,
                "placeholder": "Enter date",
                "flatpickr": {
                  "inlineHideInput": true,
                  "wrap": true,
                  "allowInput": true
                }
              }
            },
            "fstime": {
              "type": "string",
              "format": "time",
              "title": "Time (String)",
              "description": "String time field with flatpickr",
              "options": {
                "grid_columns": 4,
                "placeholder": "Enter time",
                "flatpickr": {
                  "wrap": true,
                  "showClearButton": false,
                  "inlineHideInput": true,
                  "defaultHour": 7,
                  "defaultMinute": 19,
                  "enableSeconds": true,
                  "hourIncrement": 2,
                  "minuteIncrement": 3,
                  "time_24hr": true,
                  "allowInput": true
                }
              }
            },
            "fsdatetime": {
              "type": "string",
              "format": "datetime-local",
              "title": "Datetime (String)",
              "description": "String datetime-local field with flatpickr",
              "options": {
                "grid_columns": 4,
                "placeholder": "Enter datetime",
                "flatpickr": {
                  "wrap": true,
                  "time_24hr": true,
                  "allowInput": true
                }
              }
            },

            "idate": {
              "type": "integer",
              "format": "date",
              "title": "Date (Integer)",
              "description": "Integer date field",
              "options": {
                "grid_columns": 4,
                "placeholder": "Enter date"
              }
            },
            "itime": {
              "type": "integer",
              "format": "time",
              "title": "Time (Integer)",
              "description": "Integer time field",
              "options": {
                "grid_columns": 4,
                "placeholder": "Enter time"
              }
            },
            "idatetime": {
              "type": "integer",
              "format": "datetime-local",
              "title": "Datetime (Integer)",
              "description": "Integer datetime-local field",
              "options": {
                "grid_columns": 4,
                "placeholder": "Enter datetime"
              }
            },

            "fidate": {
              "type": "integer",
              "format": "date",
              "title": "Date (Integer)",
              "description": "Integer date field with flatpickr",
              "options": {
                "grid_columns": 4,
                "placeholder": "Enter date"
              }
            },
            "fitime": {
              "type": "integer",
              "format": "time",
              "title": "Time (Integer)",
              "description": "Integer time field with flatpickr",
              "options": {
                "grid_columns": 4,
                "placeholder": "Enter time"
              }
            },
            "fidatetime": {
              "type": "integer",
              "format": "datetime-local",
              "title": "Datetime (Integer)",
              "description": "Integer datetime-local field with flatpickr",
              "options": {
                "grid_columns": 4,
                "placeholder": "Enter datetime"
              }
            },

            "fisdatetime": {
              "type": "string",
              "format": "datetime-local",
              "title": "Datetime (String)",
              "description": "Standard datetime-local field with inline flatpickr",
              "options": {
                "grid_columns": 4,
                "placeholder": "Enter datetime",
                "flatpickr": {
                  "inline": true,
                  "time_24hr": true,
                  "allowInput": true
                }
              }
            },
            "fisdate": {
              "type": "string",
              "format": "date",
              "title": "Date (String)",
              "description": "Standard date field with inline flatpickr and hidden input",
              "options": {
                "grid_columns": 4,
                "placeholder": "Enter datetime",
                "flatpickr": {
                  "inlineHideInput": false,
                  "inline": true,
                  "time_24hr": true,
                  "allowInput": true
                }
              }
            }
          }
        }
      });

      // Hook up the submit button to log to the console
      document.getElementById('submit').addEventListener('click',function() {
        // Get the value from the editor
        console.log(editor.getValue());
      });
    </script>
  </body>
</html>
